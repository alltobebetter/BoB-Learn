# 索引易错

Python 索引和切片基础：

1. 索引从 0 开始：
   
   - 第一个元素的索引是 0
   - 最后一个元素的索引是 len(列表) - 1
2. 负索引：
   
   - -1 表示最后一个元素
   - -2 表示倒数第二个元素，以此类推
3. 基本切片语法：list[start:end:step]
   
   - start: 起始索引（包含）
   - end: 结束索引（不包含）
   - step: 步长（可选，默认为 1）

易错点和注意事项：

1. 结束索引不包含：
   list[1:3] 包含索引 1 和 2 的元素，不包含索引 3
2. 省略索引：
   
   - list[:3] 等同于 list[0:3]
   - list[2:] 从索引 2 到末尾
   - list[:] 复制整个列表
3. 步长使用：
   
   - list[::2] 取所有偶数索引元素
   - list[::-1] 反转列表
4. 索引越界：
   
   - 使用超出范围的正索引会报 IndexError
   - 但使用越界的负索引不会报错，而是返回空列表
5. 切片越界不报错：
   
   - list[5:10] 如果列表长度小于 5，返回空列表
   - list[-10:] 如果列表长度小于 10，返回整个列表
6. 单个索引 vs 切片：
   
   - list[1] 返回单个元素
   - list[1:2] 返回包含一个元素的列表
7. 步长为负数：
   
   - list[5:2:-1] 从索引 5 到 3（不包括 2）倒序取元素
8. 赋值时的行为：
   
   - list[2] = x 替换单个元素
   - list[2:4] = [x, y] 替换一个切片

示例：

```python
r = ['A', 'B', 'C', 'D', 'E']

print(r[0])    # 'A'
print(r[-1])   # 'E'
print(r[1:3])  # ['B', 'C']
print(r[:3])   # ['A', 'B', 'C']
print(r[3:])   # ['D', 'E']
print(r[::-1]) # ['E', 'D', 'C', 'B', 'A']
print(r[::2])  # ['A', 'C', 'E']

# 易错点示例
print(r[1:1])  # [] (空列表，因为起始和结束索引相同)
print(r[3:100])  # ['D', 'E'] (不会因为结束索引过大而报错)
```
